<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Portfolio | To Huynh Ngoc Ngan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .nav-link {
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #0284c7;
        }
        .skill-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .skill-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            margin-top: 1rem;
        }
        .insight-container {
            background-color: #e0f2fe;
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
            border: 1px solid #90cdf4;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .loading-animation {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-slate-800">
                To Huynh Ngoc Ngan
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#story" class="nav-link text-slate-600 font-medium">Journey</a>
                <a href="#skills" class="nav-link text-slate-600 font-medium">Skills</a>
                <a href="#projects" class="nav-link text-slate-600 font-medium">Projects</a>
                <a href="#experience" class="nav-link text-slate-600 font-medium">Experience</a>
            </div>
            <a href="mailto:thnn0125@gmail.com" class="hidden md:block bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors">Contact</a>
        </nav>
    </header>

    <main>
        <section id="hero" class="container mx-auto px-6 py-20 md:py-32 text-center">
            <h1 class="text-4xl md:text-6xl font-bold text-slate-800 mb-4">Data Analyst</h1>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto mb-8">
                A data-driven professional with 3 years of experience in e-commerce, skilled in SQL, Python, and Power BI to transform raw data into actionable insights and drive business growth.
            </p>
            <a href="#projects" class="bg-sky-600 text-white px-8 py-3 rounded-lg font-semibold text-lg hover:bg-sky-700 transition-colors">Explore My Projects</a>
        </section>

        <section id="story" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800">My Professional Journey</h2>
                    <p class="mt-4 text-slate-600 max-w-2xl mx-auto">Combining hands-on e-commerce experience with a passion for data analysis.</p>
                </div>
                <div class="max-w-4xl mx-auto bg-slate-50 p-8 rounded-xl shadow-md">
                    <p class="text-slate-700 leading-relaxed">
                        With 3 years of experience as an E-Commerce Executive, I have a proven track record of using data to inform business decisions. By analyzing campaign performance, I've driven up to **20% revenue growth** during peak seasons. I've also automated reports, reducing manual workload by **30%**. My personal projects showcase my technical expertise in SQL, Python, and machine learning, demonstrating my ability to apply these skills to solve real-world problems.
                    </p>
                </div>
            </div>
        </section>

        <section id="skills" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800">Technical Skills</h2>
                    <p class="mt-4 text-slate-600 max-w-2xl mx-auto">The tools and techniques I use to turn data into solutions.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="skill-card bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-2 text-sky-700">Programming & Databases</h3>
                        <p class="text-slate-600">Python (Pandas, NumPy, Scikit-learn), SQL</p>
                    </div>
                    <div class="skill-card bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-2 text-sky-700">BI & Visualization</h3>
                        <p class="text-slate-600">Power BI, Excel (PivotTable, Dashboard), Google Sheets</p>
                    </div>
                    <div class="skill-card bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-2 text-sky-700">Machine Learning</h3>
                        <p class="text-slate-600">Predictive Models (XGBoost, Random Forest), Feature Engineering, Model Optimization</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="projects" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800">Featured Projects</h2>
                    <p class="mt-4 text-slate-600 max-w-2xl mx-auto">Where theory is applied to practice to solve real business problems.</p>
                </div>
                <div class="space-y-16">
                    
                    <!-- HR Attrition Prediction Project -->
                    <div class="project-details bg-slate-50 p-6 rounded-lg shadow-md mb-8">
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">üöÄ D·ª± ƒëo√°n kh·∫£ nƒÉng ngh·ªâ vi·ªác c·ªßa nh√¢n vi√™n</h3>
                        <p class="text-slate-600 mb-4">D·ª± √°n n√†y t·∫≠p trung v√†o vi·ªác ph√¢n t√≠ch v√† d·ª± ƒëo√°n kh·∫£ nƒÉng ngh·ªâ vi·ªác (attrition) c·ªßa nh√¢n vi√™n d·ª±a tr√™n c√°c ƒë·∫∑c tr∆∞ng nh√¢n kh·∫©u h·ªçc v√† h√†nh vi l√†m vi·ªác.</p>
                        
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <h4 class="text-lg font-semibold text-sky-700 mb-2">üìå Gi·ªõi thi·ªáu</h4>
                                <ul class="list-disc list-inside text-slate-600 space-y-1">
                                    <li>X√°c ƒë·ªãnh c√°c y·∫øu t·ªë quan tr·ªçng ·∫£nh h∆∞·ªüng ƒë·∫øn quy·∫øt ƒë·ªãnh ngh·ªâ vi·ªác.</li>
                                    <li>X√¢y d·ª±ng m√¥ h√¨nh Machine Learning ƒë·ªÉ d·ª± ƒëo√°n kh·∫£ nƒÉng ngh·ªâ vi·ªác.</li>
                                    <li>ƒê·ªÅ xu·∫•t gi·∫£i ph√°p gi√∫p doanh nghi·ªáp gi·ªØ ch√¢n nh√¢n vi√™n.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-lg font-semibold text-sky-700 mb-2">üìä K·∫øt qu·∫£</h4>
                                <ul class="list-disc list-inside text-slate-600 space-y-1">
                                    <li>M√¥ h√¨nh t·ªët nh·∫•t: **XGBoost** (ROC-AUC: 0.92).</li>
                                    <li>C√°c y·∫øu t·ªë ·∫£nh h∆∞·ªüng l·ªõn nh·∫•t: th√¢m ni√™n, m·ª©c l∆∞∆°ng, th√†nh ph·ªë, tr√¨nh ƒë·ªô h·ªçc v·∫•n.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Chart for HR Attrition -->
                        <div class="w-full">
                            <h4 class="text-lg font-semibold text-sky-700 mb-2 text-center">T·ª∑ l·ªá nh√¢n vi√™n ngh·ªâ vi·ªác (Attrition)</h4>
                            <div class="chart-container">
                                <canvas id="hrAttritionChart"></canvas>
                            </div>
                        </div>

                        <div class="flex items-center space-x-4">
                            <button onclick="openModal('hr-attrition')" class="bg-slate-200 text-slate-800 px-4 py-2 rounded-lg font-semibold text-sm hover:bg-slate-300 transition-colors">
                                Xem chi ti·∫øt
                            </button>
                            <button onclick="getInsight('hr-attrition-insight')" class="bg-sky-600 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:bg-sky-700 transition-colors">
                                ‚ú® Nh·∫≠n Insight m·ªõi
                            </button>
                        </div>
                        <!-- New element for AI-generated insight -->
                        <div id="hr-attrition-insight" class="insight-container hidden">
                            <div class="loading-animation mx-auto"></div>
                        </div>
                    </div>

                    <!-- Bank Customer Churn Analysis Project -->
                    <div class="project-details bg-slate-50 p-6 rounded-lg shadow-md mb-8">
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">üìä Ph√¢n t√≠ch Chuy·ªÉn ƒë·ªïi Kh√°ch h√†ng Ng√¢n h√†ng</h3>
                        <p class="text-slate-600 mb-4">D·ª± √°n n√†y ph√¢n t√≠ch 10,000 h·ªì s∆° kh√°ch h√†ng ng√¢n h√†ng ƒë·ªÉ x√°c ƒë·ªãnh c√°c y·∫øu t·ªë ch√≠nh g√¢y ra t√¨nh tr·∫°ng chuy·ªÉn ƒë·ªïi kh√°ch h√†ng v√† cung c·∫•p c√°c chi·∫øn l∆∞·ª£c gi·ªØ ch√¢n d·ª±a tr√™n d·ªØ li·ªáu.</p>
                        
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <h4 class="text-lg font-semibold text-sky-700 mb-2">üìå T·ªïng quan</h4>
                                <ul class="list-disc list-inside text-slate-600 space-y-1">
                                    <li>Ph√¢n t√≠ch 10,000 h·ªì s∆° kh√°ch h√†ng ng√¢n h√†ng ƒë·ªÉ x√°c ƒë·ªãnh c√°c y·∫øu t·ªë chuy·ªÉn ƒë·ªïi.</li>
                                    <li>Cung c·∫•p c√°c chi·∫øn l∆∞·ª£c gi·ªØ ch√¢n kh√°ch h√†ng d·ª±a tr√™n d·ªØ li·ªáu.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-lg font-semibold text-sky-700 mb-2">üîç C√°c ph√°t hi·ªán ch√≠nh</h4>
                                <ul class="list-disc list-inside text-slate-600 space-y-1">
                                    <li>T·ª∑ l·ªá chuy·ªÉn ƒë·ªïi t·ªïng th·ªÉ: **20.38%**.</li>
                                    <li>Kh√°ch h√†ng n·ªØ v√† ƒë·ªô tu·ªïi 40-59 c√≥ t·ª∑ l·ªá chuy·ªÉn ƒë·ªïi cao h∆°n.</li>
                                    <li>Kh√°ch h√†ng c√≥ khi·∫øu n·∫°i chuy·ªÉn ƒë·ªïi ·ªü m·ª©c **99.5%**.</li>
                                </ul>
                            </div>
                        </div>

                         <!-- Chart for Bank Customer Churn -->
                        <div class="w-full">
                            <h4 class="text-lg font-semibold text-sky-700 mb-2 text-center">T·ª∑ l·ªá Chuy·ªÉn ƒë·ªïi Kh√°ch h√†ng theo Gi·ªõi t√≠nh & V·ªã tr√≠</h4>
                            <div class="chart-container">
                                <canvas id="bankChurnChart"></canvas>
                            </div>
                        </div>

                        <div class="flex items-center space-x-4">
                            <button onclick="openModal('bank-churn')" class="bg-slate-200 text-slate-800 px-4 py-2 rounded-lg font-semibold text-sm hover:bg-slate-300 transition-colors">
                                Xem chi ti·∫øt
                            </button>
                            <button onclick="getInsight('bank-churn-insight')" class="bg-sky-600 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:bg-sky-700 transition-colors">
                                ‚ú® Nh·∫≠n Insight m·ªõi
                            </button>
                        </div>
                        <!-- New element for AI-generated insight -->
                        <div id="bank-churn-insight" class="insight-container hidden">
                            <div class="loading-animation mx-auto"></div>
                        </div>
                    </div>

                    <!-- Personal Financial Snapshot Analysis Project -->
                    <div class="project-details bg-slate-50 p-6 rounded-lg shadow-md mb-8">
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">üí∞ Ph√¢n t√≠ch Kho·∫£n T√†i ch√≠nh C√° nh√¢n</h3>
                        <p class="text-slate-600 mb-4">D·ª± √°n n√†y ph√¢n t√≠ch c√°c giao d·ªãch t√†i ch√≠nh h·ªô gia ƒë√¨nh h√†ng ng√†y (2015‚Äì2018) t·ª´ Kaggle ƒë·ªÉ hi·ªÉu c√°c xu h∆∞·ªõng thu nh·∫≠p, chi ti√™u v√† ti·∫øt ki·ªám c·ªßa m·ªôt c√° nh√¢n.</p>
                        
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <h4 class="text-lg font-semibold text-sky-700 mb-2">üìå T·ªïng quan</h4>
                                <ul class="list-disc list-inside text-slate-600 space-y-1">
                                    <li>Ph√¢n t√≠ch c√°c giao d·ªãch t√†i ch√≠nh h√†ng ng√†y ƒë·ªÉ hi·ªÉu xu h∆∞·ªõng thu nh·∫≠p, chi ti√™u v√† ti·∫øt ki·ªám.</li>
                                    <li>Cung c·∫•p insights ƒë·ªÉ qu·∫£n l√Ω t√†i ch√≠nh c√° nh√¢n.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-lg font-semibold text-sky-700 mb-2">üîç C√°c ph√°t hi·ªán ch√≠nh</h4>
                                <ul class="list-disc list-inside text-slate-600 space-y-1">
                                    <li>T·ª∑ l·ªá Ti·∫øt ki·ªám/Thu nh·∫≠p tƒÉng t·ª´ **29.22% ‚Üí 47.31%**.</li>
                                    <li>Thu nh·∫≠p ƒë√£ chuy·ªÉn d·ªãch sang c√°c ngu·ªìn ƒëa d·∫°ng h∆°n, bao g·ªìm c·∫£ ƒë·∫ßu t∆∞.</li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Chart for Personal Financial Snapshot -->
                        <div class="w-full">
                            <h4 class="text-lg font-semibold text-sky-700 mb-2 text-center">T·ª∑ l·ªá Chi ti√™u/Thu nh·∫≠p & Ti·∫øt ki·ªám/Thu nh·∫≠p (2015-2018)</h4>
                            <div class="chart-container">
                                <canvas id="financialSnapshotChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <button onclick="openModal('financial-snapshot')" class="bg-slate-200 text-slate-800 px-4 py-2 rounded-lg font-semibold text-sm hover:bg-slate-300 transition-colors">
                                Xem chi ti·∫øt
                            </button>
                            <button onclick="getInsight('financial-snapshot-insight')" class="bg-sky-600 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:bg-sky-700 transition-colors">
                                ‚ú® Nh·∫≠n Insight m·ªõi
                            </button>
                        </div>
                        <!-- New element for AI-generated insight -->
                        <div id="financial-snapshot-insight" class="insight-container hidden">
                            <div class="loading-animation mx-auto"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="experience" class="py-20">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800">Experience & Education</h2>
                    <p class="mt-4 text-slate-600 max-w-2xl mx-auto">A solid foundation built from hands-on experience and a strong academic background.</p>
                </div>
                <div class="max-w-3xl mx-auto">
                    <div class="relative border-l-2 border-sky-200 pl-10">
                        <div class="mb-10">
                            <div class="absolute -left-3.5 mt-1.5 w-6 h-6 bg-sky-600 rounded-full border-4 border-white"></div>
                            <p class="text-sm font-medium text-sky-600">10/2023 - Present</p>
                            <h4 class="text-xl font-semibold text-slate-800">E-Commerce Executive</h4>
                            <p class="text-slate-600 italic">Marou Chocolate Joint Stock Company</p>
                            <ul class="mt-2 list-disc list-inside text-slate-600 space-y-1">
                                <li>Analyzed campaign data, optimized product mix, and drove up to 20% revenue growth.</li>
                                <li>Automated sales and SKU reports, reducing manual workload by 30%.</li>
                                <li>Interpreted KPIs from Power BI dashboards, presenting actionable recommendations.</li>
                            </ul>
                        </div>
                        <div class="mb-10">
                            <div class="absolute -left-3.5 mt-1.5 w-6 h-6 bg-sky-600 rounded-full border-4 border-white"></div>
                            <p class="text-sm font-medium text-sky-600">07/2025</p>
                            <h4 class="text-xl font-semibold text-slate-800">Google Data Analytics Professional Certificate</h4>
                            <p class="text-slate-600 italic">Coursera</p>
                        </div>
                        <div class="mb-10">
                            <div class="absolute -left-3.5 mt-1.5 w-6 h-6 bg-sky-600 rounded-full border-4 border-white"></div>
                            <p class="text-sm font-medium text-sky-600">10/2020 - 07/2024</p>
                            <h4 class="text-xl font-semibold text-slate-800">University of Information Technology (UIT)</h4>
                            <p class="text-slate-600 italic">Bachelor's Degree</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-white py-10">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 To Huynh Ngoc Ngan. Portfolio designed to showcase my journey and skills.</p>
        </div>
    </footer>
    
    <!-- Modal Structure -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <div id="modal-content-area" class="mt-4 prose max-w-none text-slate-800">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>

    <script>
        // Store Chart instances to destroy them before creating new ones
        let charts = {};

        const projectContents = {
            'hr-attrition': `
                <h3 class="text-xl font-bold mb-2">üöÄ D·ª± ƒëo√°n kh·∫£ nƒÉng ngh·ªâ vi·ªác c·ªßa nh√¢n vi√™n (HR Attrition Prediction)</h3>
                <p>D·ª± √°n n√†y t·∫≠p trung v√†o vi·ªác **ph√¢n t√≠ch v√† d·ª± ƒëo√°n kh·∫£ nƒÉng ngh·ªâ vi·ªác (attrition)** c·ªßa nh√¢n vi√™n d·ª±a tr√™n c√°c ƒë·∫∑c tr∆∞ng nh√¢n kh·∫©u h·ªçc v√† h√†nh vi l√†m vi·ªác.</p>
                <p>üéØ **M·ª•c ti√™u ch√≠nh**:
                    <ul>
                        <li>X√°c ƒë·ªãnh c√°c y·∫øu t·ªë quan tr·ªçng ·∫£nh h∆∞·ªüng ƒë·∫øn quy·∫øt ƒë·ªãnh ngh·ªâ vi·ªác.</li>
                        <li>X√¢y d·ª±ng m√¥ h√¨nh Machine Learning ƒë·ªÉ d·ª± ƒëo√°n kh·∫£ nƒÉng ngh·ªâ vi·ªác.</li>
                        <li>ƒê·ªÅ xu·∫•t gi·∫£i ph√°p gi√∫p doanh nghi·ªáp **gi·ªØ ch√¢n nh√¢n vi√™n**.</li>
                    </ul>
                </p>
                <h4 class="font-semibold mt-4 mb-2">üóÇÔ∏è B·ªô d·ªØ li·ªáu</h4>
                <ul>
                    <li>**Ngu·ªìn**: HR Analytics Dataset.</li>
                    <li>**S·ªë l∆∞·ª£ng m·∫´u**: 1000 nh√¢n vi√™n.</li>
                    <li>**Bi·∫øn quan tr·ªçng**: Tu·ªïi, gi·ªõi t√≠nh, th√†nh ph·ªë, kinh nghi·ªám, h·ªçc v·∫•n, m·ª©c l∆∞∆°ng, lo·∫°i h·ª£p ƒë·ªìng.</li>
                    <li>**Nh√£n d·ª± ƒëo√°n**: <code>Attrition</code> (Yes/No).</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">üîß C√°c b∆∞·ªõc th·ª±c hi·ªán</h4>
                <ol>
                    <li>**Kh√°m ph√° d·ªØ li·ªáu (EDA)**</li>
                    <li>**X·ª≠ l√Ω d·ªØ li·ªáu**</li>
                    <li>**X√¢y d·ª±ng m√¥ h√¨nh Machine Learning**</li>
                    <li>**ƒê√°nh gi√° m√¥ h√¨nh**</li>
                    <li>**Ph√¢n t√≠ch Feature Importance**</li>
                </ol>
                <h4 class="font-semibold mt-4 mb-2">üìä K·∫øt qu·∫£</h4>
                <p>M√¥ h√¨nh t·ªët nh·∫•t: **XGBoost** (ROC-AUC: 0.92). C√°c y·∫øu t·ªë ·∫£nh h∆∞·ªüng l·ªõn nh·∫•t: Th√¢m ni√™n, M·ª©c l∆∞∆°ng, Th√†nh ph·ªë, Tr√¨nh ƒë·ªô h·ªçc v·∫•n, Lo·∫°i h·ª£p ƒë·ªìng.</p>
                <h4 class="font-semibold mt-4 mb-2">üí° Gi·∫£i ph√°p ƒë·ªÅ xu·∫•t</h4>
                <ul>
                    <li>**Ch√≠nh s√°ch gi·ªØ ch√¢n nh√¢n vi√™n**: tƒÉng l∆∞∆°ng theo nƒÉng l·ª±c & th√¢m ni√™n.</li>
                    <li>**H·ªó tr·ª£ ph√°t tri·ªÉn s·ª± nghi·ªáp**: ƒë√†o t·∫°o, mentoring, l·ªô tr√¨nh thƒÉng ti·∫øn.</li>
                    <li>**C√¢n b·∫±ng c√¥ng vi·ªác & cu·ªôc s·ªëng**: linh ho·∫°t th·ªùi gian l√†m vi·ªác, ch·∫ø ƒë·ªô ph√∫c l·ª£i t·ªët h∆°n.</li>
                </ul>
            `,
            'bank-churn': `
                <h3 class="text-xl font-bold mb-2">üìä Bank Customer Churn Analysis</h3>
                <p>D·ª± √°n n√†y ph√¢n t√≠ch 10,000 h·ªì s∆° kh√°ch h√†ng ng√¢n h√†ng ƒë·ªÉ x√°c ƒë·ªãnh c√°c y·∫øu t·ªë ch√≠nh g√¢y ra t√¨nh tr·∫°ng chuy·ªÉn ƒë·ªïi kh√°ch h√†ng v√† cung c·∫•p c√°c chi·∫øn l∆∞·ª£c gi·ªØ ch√¢n d·ª±a tr√™n d·ªØ li·ªáu.</p>
                <h4 class="font-semibold mt-4 mb-2">üìÇ D·ªØ li·ªáu</h4>
                <ul>
                    <li>**Ngu·ªìn:** Kaggle ‚Äì Bank Customer Churn dataset</li>
                    <li>**K√≠ch th∆∞·ªõc:** 10,000 h·ªì s∆° √ó 18 thu·ªôc t√≠nh</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">üîç C√°c ph√°t hi·ªán ch√≠nh</h4>
                <ul>
                    <li>T·ª∑ l·ªá chuy·ªÉn ƒë·ªïi t·ªïng th·ªÉ: 20.38% (2,038 kh√°ch h√†ng).</li>
                    <li>Kh√°ch h√†ng c√≥ khi·∫øu n·∫°i chuy·ªÉn ƒë·ªïi ·ªü m·ª©c 99.5% ‚Üí g·∫ßn nh∆∞ ch·∫Øc ch·∫Øn.</li>
                    <li>Kh√°ch h√†ng c√≥ 2 s·∫£n ph·∫©m c√≥ t·ª∑ l·ªá chuy·ªÉn ƒë·ªïi th·∫•p nh·∫•t (8.2%).</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">üìä K·∫øt qu·∫£ & T√°c ƒë·ªông kinh doanh</h4>
                <ul>
                    <li>ƒê√£ x√¢y d·ª±ng c√°c dashboard ƒë·ªÉ tr·ª±c quan h√≥a c√°c ph√¢n kh√∫c c√≥ r·ªßi ro cao.</li>
                    <li>ƒê√£ x√°c ƒë·ªãnh c√°c y·∫øu t·ªë r·ªßi ro chuy·ªÉn ƒë·ªïi: gi·ªõi t√≠nh, v·ªã tr√≠ ƒë·ªãa l√Ω, ƒë·ªô tu·ªïi, khi·∫øu n·∫°i, m·ª©c ƒë·ªô s·ª≠ d·ª•ng s·∫£n ph·∫©m.</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">ƒê·ªÅ xu·∫•t chi·∫øn l∆∞·ª£c gi·ªØ ch√¢n:</h4>
                <ul>
                    <li>H·ªá th·ªëng c·∫£nh b√°o s·ªõm cho c√°c nh√≥m r·ªßi ro cao.</li>
                    <li>C√°c ch∆∞∆°ng tr√¨nh gi·ªØ ch√¢n ƒë·∫∑c bi·ªát cho kh√°ch h√†ng n·ªØ, trung ni√™n v√† kh√°ch h√†ng ƒê·ª©c.</li>
                    <li>H·ªá th·ªëng gi·∫£i quy·∫øt khi·∫øu n·∫°i trong v√≤ng 24 gi·ªù.</li>
                </ul>
            `,
            'financial-snapshot': `
                <h3 class="text-xl font-bold mb-2">üí∞ Personal Financial Snapshot Analysis</h3>
                <p>D·ª± √°n n√†y ph√¢n t√≠ch **c√°c giao d·ªãch t√†i ch√≠nh h·ªô gia ƒë√¨nh h√†ng ng√†y (2015‚Äì2018)** t·ª´ Kaggle ƒë·ªÉ hi·ªÉu c√°c xu h∆∞·ªõng thu nh·∫≠p, chi ti√™u v√† ti·∫øt ki·ªám c·ªßa m·ªôt c√° nh√¢n.</p>
                <h4 class="font-semibold mt-4 mb-2">üìÇ D·ªØ li·ªáu</h4>
                <ul>
                    <li>**Ngu·ªìn:** Kaggle ‚Äì Daily Household Transactions</li>
                    <li>**Th·ªùi gian:** 2015‚Äì2018</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">üîç C√°c ph√°t hi·ªán ch√≠nh</h4>
                <ul>
                    <li>**Thu nh·∫≠p:** C√≥ s·ª± chuy·ªÉn d·ªãch t·ª´ thu nh·∫≠p ch·ªâ t·ª´ l∆∞∆°ng (98.9% nƒÉm 2015) sang c√°c ngu·ªìn ƒëa d·∫°ng h∆°n (67.6% t·ª´ l∆∞∆°ng, 28.9% t·ª´ ƒë√°o h·∫°n/ƒë·∫ßu t∆∞ v√†o nƒÉm 2018).</li>
                    <li>**Chi ti√™u:** Chuy·ªÉn d·ªãch t·ª´ c√°c nhu c·∫ßu c∆° b·∫£n sang ƒë·∫ßu t∆∞, du l·ªãch, ƒÉn u·ªëng v√† chƒÉm s√≥c s·ª©c kh·ªèe.</li>
                    <li>**Ti·∫øt ki·ªám:** T·ª∑ l·ªá Chi ph√≠/Thu nh·∫≠p gi·∫£m t·ª´ **70.78% ‚Üí 52.69%**. T·ª∑ l·ªá Ti·∫øt ki·ªám/Thu nh·∫≠p tƒÉng t·ª´ **29.22% ‚Üí 47.31%**.</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">üìä K·∫øt qu·∫£ & T√°c ƒë·ªông</h4>
                <p>Hi·ªáu qu·∫£ t√†i ch√≠nh ƒë∆∞·ª£c c·∫£i thi·ªán th√¥ng qua vi·ªác gi·∫£m chi ph√≠ v√† tƒÉng ti·∫øt ki·ªám. B·∫±ng ch·ª©ng r√µ r√†ng v·ªÅ **k·∫ø ho·∫°ch ƒë·∫ßu t∆∞ v√† t√†i ch√≠nh th√†nh c√¥ng**.</p>
                <h4 class="font-semibold mt-4 mb-2">C√°c ƒë·ªÅ xu·∫•t:</h4>
                <ul>
                    <li>TƒÉng c∆∞·ªùng ƒë·∫ßu t∆∞ ph√π h·ª£p v·ªõi m·ª©c ƒë·ªô r·ªßi ro.</li>
                    <li>Duy tr√¨ th√≥i quen ki·ªÉm so√°t chi ph√≠ v√† ti·∫øt ki·ªám.</li>
                    <li>ƒêa d·∫°ng h√≥a c√°c ngu·ªìn thu nh·∫≠p h∆°n n·ªØa.</li>
                </ul>
            `
        };

        const projectPrompts = {
            'hr-attrition-insight': "D·ª±a tr√™n d·ª± √°n ph√¢n t√≠ch t·ªâ l·ªá ngh·ªâ vi·ªác, h√£y ƒë∆∞a ra m·ªôt ƒë·ªÅ xu·∫•t kinh doanh c·ª• th·ªÉ v√† ng·∫Øn g·ªçn. ƒê·ªìng th·ªùi, t·∫°o d·ªØ li·ªáu JSON cho m·ªôt bi·ªÉu ƒë·ªì c·ªôt (bar chart) minh h·ªça hai nh√≥m nh√¢n vi√™n c√≥ nguy c∆° ngh·ªâ vi·ªác cao nh·∫•t (v√≠ d·ª•: 'Th√¢m ni√™n th·∫•p' v√† 'L∆∞∆°ng th·∫•p') v√† t·ª∑ l·ªá ngh·ªâ vi·ªác t∆∞∆°ng ·ª©ng c·ªßa h·ªç. Bi·ªÉu ƒë·ªì n√™n c√≥ nh√£n ('Nh√≥m' v√† 'T·ªâ l·ªá ngh·ªâ vi·ªác'). Tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát v√† tu√¢n th·ªß ƒë·ªãnh d·∫°ng JSON sau: `{ \"text_insight\": \"<ƒë·ªÅ xu·∫•t>\", \"chart_data\": { \"labels\": [\"<Nh√≥m A>\", \"<Nh√≥m B>\"], \"data\": [<s·ªë 1>, <s·ªë 2>], \"chart_title\": \"<Ti√™u ƒë·ªÅ bi·ªÉu ƒë·ªì>\" } }`",
            'bank-churn-insight': "D·ª±a tr√™n d·ª± √°n ph√¢n t√≠ch chuy·ªÉn ƒë·ªïi kh√°ch h√†ng, h√£y ƒë∆∞a ra m·ªôt chi·∫øn l∆∞·ª£c ti·∫øp th·ªã ng·∫Øn g·ªçn. ƒê·ªìng th·ªùi, t·∫°o d·ªØ li·ªáu JSON cho m·ªôt bi·ªÉu ƒë·ªì c·ªôt (bar chart) minh h·ªça t·ª∑ l·ªá chuy·ªÉn ƒë·ªïi c·ªßa ba nh√≥m kh√°ch h√†ng: 'Ph·ª• n·ªØ', 'Tu·ªïi 40-59', v√† 'C√≥ khi·∫øu n·∫°i'. Bi·ªÉu ƒë·ªì n√™n c√≥ nh√£n ('Nh√≥m kh√°ch h√†ng' v√† 'T·ªâ l·ªá chuy·ªÉn ƒë·ªïi'). Tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát v√† tu√¢n th·ªß ƒë·ªãnh d·∫°ng JSON sau: `{ \"text_insight\": \"<chi·∫øn l∆∞·ª£c>\", \"chart_data\": { \"labels\": [\"<Nh√≥m A>\", \"<Nh√≥m B>\", \"<Nh√≥m C>\"], \"data\": [<s·ªë 1>, <s·ªë 2>, <s·ªë 3>], \"chart_title\": \"<Ti√™u ƒë·ªÅ bi·ªÉu ƒë·ªì>\" } }`",
            'financial-snapshot-insight': "D·ª±a tr√™n d·ª± √°n ph√¢n t√≠ch t√†i ch√≠nh c√° nh√¢n, h√£y ƒë∆∞a ra m·ªôt l·ªùi khuy√™n ƒë·∫ßu t∆∞ ng·∫Øn g·ªçn. ƒê·ªìng th·ªùi, t·∫°o d·ªØ li·ªáu JSON cho m·ªôt bi·ªÉu ƒë·ªì ƒë∆∞·ªùng (line chart) minh h·ªça xu h∆∞·ªõng thu nh·∫≠p theo th·ªùi gian, chia th√†nh 'Thu nh·∫≠p t·ª´ l∆∞∆°ng' v√† 'Thu nh·∫≠p t·ª´ ƒë·∫ßu t∆∞/kh√°c' trong giai ƒëo·∫°n 2015-2018. Bi·ªÉu ƒë·ªì n√™n c√≥ nh√£n ('NƒÉm' v√† 'Thu nh·∫≠p'). Tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát v√† tu√¢n th·ªß ƒë·ªãnh d·∫°ng JSON sau: `{ \"text_insight\": \"<l·ªùi khuy√™n>\", \"chart_data\": { \"labels\": [\"<NƒÉm 1>\", \"<NƒÉm 2>\"], \"datasets\": [{ \"label\": \"<Nh√≥m A>\", \"data\": [<s·ªë 1>, <s·ªë 2>] }, { \"label\": \"<Nh√≥m B>\", \"data\": [<s·ªë 3>, <s·ªë 4>] }], \"chart_title\": \"<Ti√™u ƒë·ªÅ bi·ªÉu ƒë·ªì>\" } }`"
        };
        
        async function getInsight(elementId) {
            const insightElement = document.getElementById(elementId);
            insightElement.style.display = 'flex';
            insightElement.innerHTML = `<div class="loading-animation mx-auto"></div>`;

            const prompt = projectPrompts[elementId];
            if (!prompt) {
                insightElement.innerHTML = `<p class="text-red-500 text-center">L·ªói: Kh√¥ng t√¨m th·∫•y prompt.</p>`;
                return;
            }
            
            let attempts = 0;
            const maxAttempts = 5;
            let success = false;

            while (attempts < maxAttempts && !success) {
                try {
                    const payload = {
                        contents: [{
                            parts: [{ text: prompt }]
                        }],
                        generationConfig: {
                            responseMimeType: "application/json",
                            responseSchema: {
                                type: "OBJECT",
                                properties: {
                                    "text_insight": { "type": "STRING" },
                                    "chart_data": {
                                        "type": "OBJECT",
                                        "properties": {
                                            "labels": { "type": "ARRAY", "items": { "type": "STRING" } },
                                            "chart_title": { "type": "STRING" },
                                            "datasets": {
                                                "type": "ARRAY",
                                                "items": {
                                                    "type": "OBJECT",
                                                    "properties": {
                                                        "label": { "type": "STRING" },
                                                        "data": { "type": "ARRAY", "items": { "type": "NUMBER" } }
                                                    }
                                                }
                                            },
                                            "data": { "type": "ARRAY", "items": { "type": "NUMBER" } }
                                        }
                                    }
                                }
                            }
                        }
                    };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429) {
                            // Exponential backoff
                            const delay = Math.pow(2, attempts) * 1000 + Math.random() * 1000;
                            await new Promise(resolve => setTimeout(resolve, delay));
                            attempts++;
                            continue;
                        } else {
                            throw new Error(`API request failed with status: ${response.status}`);
                        }
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        
                        const jsonString = result.candidates[0].content.parts[0].text;
                        const data = JSON.parse(jsonString);

                        // Clear the insight container
                        insightElement.innerHTML = '';
                        
                        // Add text insight
                        const textElement = document.createElement('p');
                        textElement.className = "text-slate-800";
                        textElement.textContent = data.text_insight;
                        insightElement.appendChild(textElement);

                        // Add chart
                        const chartDiv = document.createElement('div');
                        chartDiv.className = "chart-container";
                        const chartCanvas = document.createElement('canvas');
                        chartCanvas.id = `insight-chart-${elementId}`;
                        chartDiv.appendChild(chartCanvas);
                        insightElement.appendChild(chartDiv);

                        const chartCtx = chartCanvas.getContext('2d');
                        
                        // Destroy old chart instance if it exists
                        if (charts[elementId]) {
                            charts[elementId].destroy();
                        }
                        
                        let chartType, datasets;
                        if (data.chart_data.datasets) {
                            chartType = 'line';
                            datasets = data.chart_data.datasets.map(d => ({
                                label: d.label,
                                data: d.data,
                                borderColor: `#${Math.floor(Math.random()*16777215).toString(16)}`, // Random color
                                tension: 0.4,
                                fill: false
                            }));
                        } else {
                            chartType = 'bar';
                            datasets = [{
                                label: data.chart_data.chart_title,
                                data: data.chart_data.data,
                                backgroundColor: [
                                    '#0ea5e9', '#22c55e', '#f97316', '#a855f7', '#ef4444'
                                ],
                                borderWidth: 1
                            }];
                        }
                        
                        charts[elementId] = new Chart(chartCtx, {
                            type: chartType,
                            data: {
                                labels: data.chart_data.labels,
                                datasets: datasets
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        position: 'top',
                                    },
                                    title: {
                                        display: true,
                                        text: data.chart_data.chart_title
                                    }
                                },
                                scales: {
                                    y: {
                                        beginAtZero: true
                                    }
                                }
                            }
                        });
                        
                        success = true;
                    } else {
                        insightElement.innerHTML = `<p class="text-red-500 text-center">Kh√¥ng th·ªÉ t·∫°o insight. Vui l√≤ng th·ª≠ l·∫°i.</p>`;
                    }
                } catch (error) {
                    insightElement.innerHTML = `<p class="text-red-500 text-center">ƒê√£ x·∫£y ra l·ªói: ${error.message}</p>`;
                    break;
                }
            }
            if (!success) {
                insightElement.innerHTML = `<p class="text-red-500 text-center">ƒê√£ h·∫øt l·∫ßn th·ª≠. Vui l√≤ng th·ª≠ l·∫°i sau.</p>`;
            }
        }

        function openModal(projectId) {
            const modal = document.getElementById('projectModal');
            const modalContentArea = document.getElementById('modal-content-area');
            
            modalContentArea.innerHTML = projectContents[projectId];
            modal.style.display = 'flex';
        }

        function closeModal() {
            const modal = document.getElementById('projectModal');
            modal.style.display = 'none';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('projectModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Chart.js rendering
        document.addEventListener('DOMContentLoaded', () => {
            // HR Attrition Chart
            const hrCtx = document.getElementById('hrAttritionChart');
            if (hrCtx) {
                new Chart(hrCtx, {
                    type: 'pie',
                    data: {
                        labels: ['ƒê√£ ngh·ªâ vi·ªác', 'Hi·ªán ƒëang l√†m vi·ªác'],
                        datasets: [{
                            data: [16.12, 83.88], // Placeholder based on general HR data (adjust if needed)
                            backgroundColor: ['#ef4444', '#10b981'],
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            title: {
                                display: true,
                                text: 'T·ª∑ l·ªá Ngh·ªâ vi·ªác (%)'
                            }
                        }
                    }
                });
            }

            // Bank Customer Churn Chart
            const bankCtx = document.getElementById('bankChurnChart');
            if (bankCtx) {
                new Chart(bankCtx, {
                    type: 'bar',
                    data: {
                        labels: ['T·ªïng th·ªÉ', 'N·ªØ', 'Nam', 'ƒê·ª©c', 'Ph√°p'],
                        datasets: [{
                            label: 'T·ª∑ l·ªá Chuy·ªÉn ƒë·ªïi (%)',
                            data: [20.38, 25, 11.5, 32.4, 16.1],
                            backgroundColor: ['#0ea5e9', '#f472b6', '#22c55e', '#f97316', '#a855f7'],
                            borderColor: '#fff',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'T·ª∑ l·ªá (%)'
                                }
                            }
                        }
                    }
                });
            }

            // Financial Snapshot Chart
            const financialCtx = document.getElementById('financialSnapshotChart');
            if (financialCtx) {
                new Chart(financialCtx, {
                    type: 'line',
                    data: {
                        labels: ['2015', '2016', '2017', '2018'],
                        datasets: [
                            {
                                label: 'T·ª∑ l·ªá Chi ti√™u/Thu nh·∫≠p',
                                data: [70.78, 65, 60, 52.69],
                                borderColor: '#dc2626',
                                tension: 0.4,
                                fill: false
                            },
                            {
                                label: 'T·ª∑ l·ªá Ti·∫øt ki·ªám/Thu nh·∫≠p',
                                data: [29.22, 35, 40, 47.31],
                                borderColor: '#059669',
                                tension: 0.4,
                                fill: false
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'T·ª∑ l·ªá (%)'
                                }
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
